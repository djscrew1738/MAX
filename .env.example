# ============================================
# MAX - AI Field Assistant for CTL Plumbing
# ============================================
# Copy this file to .env and fill in ALL values
# NO DEFAULTS for sensitive values in production!
# ============================================

# --- Database (REQUIRED) ---
POSTGRES_DB=max
POSTGRES_USER=max
# REQUIRED: No fallback - must be set
POSTGRES_PASSWORD=

# --- API Configuration (REQUIRED) ---
NODE_ENV=production
PORT=3210
# REQUIRED: No fallback - must be set (min 32 characters recommended)
MAX_API_KEY=

# --- Tailscale / External Access ---
TAILSCALE_IP=100.83.120.32
ALLOWED_ORIGINS=http://localhost:3210,http://127.0.0.1:3210

# --- Ollama Configuration ---
OLLAMA_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_EMBED_MODEL=nomic-embed-text
OLLAMA_VISION_MODEL=llava
# Timeouts (milliseconds)
OLLAMA_TIMEOUT=30000
OLLAMA_EMBED_TIMEOUT=15000
OLLAMA_CHAT_TIMEOUT=60000

# --- Whisper Configuration ---
WHISPER_URL=http://whisper:8000
WHISPER_TIMEOUT=300000

# --- Email Configuration (REQUIRED for email notifications) ---
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_TO=
EMAIL_FROM=max@ctlplumbing.com

# --- Rate Limiting ---
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_EMBEDDING_MAX=30
RATE_LIMIT_CHAT_MAX=60

# --- Security ---
# Enable ClamAV virus scanning (requires --profile full)
CLAMAV_ENABLED=false
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

# --- Logging ---
LOG_LEVEL=info

# --- Optional: OpenSite Integration ---
OPENSITE_URL=
OPENSITE_API_KEY=
OPENSITE_WEBHOOK_URL=
